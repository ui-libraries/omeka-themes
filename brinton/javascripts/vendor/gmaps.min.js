/*!
 * GMaps.js v0.2.12
 * http://hpneo.github.com/gmaps/
 *
 * Copyright 2012, Gustavo Leon
 * Released under the MIT License.
 */
if(window.google&&window.google.maps){var GMaps=function(a){"use strict";var b=document;var c=function(c,d){var e;if("jQuery"in a&&d){e=$("#"+c.replace("#",""),d)[0]}else{e=b.getElementById(c.replace("#",""))}return e};var d=function(a){var e=this;window.context_menu={};if(typeof a.div=="string"){this.div=c(a.div,a.context)}else{this.div=a.div}this.div.style.width=a.width||this.div.scrollWidth||this.div.offsetWidth;this.div.style.height=a.height||this.div.scrollHeight||this.div.offsetHeight;this.controls=[];this.overlays=[];this.layers=[];this.singleLayers={};this.markers=[];this.polylines=[];this.routes=[];this.polygons=[];this.infoWindow=null;this.overlay_div=null;this.zoom=a.zoom||15;var f;if(a.mapType){f=google.maps.MapTypeId[a.mapType.toUpperCase()]}else{f=google.maps.MapTypeId.ROADMAP}var g=new google.maps.LatLng(a.lat,a.lng);delete a.div;delete a.lat;delete a.lng;delete a.mapType;delete a.width;delete a.height;var h=a.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"};var i=a.zoomControl||true,j=h.style||"DEFAULT",k=h.position||"TOP_LEFT",l=a.panControl||true,m=a.mapTypeControl||true,n=a.scaleControl||true,o=a.streetViewControl||true,p=p||true;var q={zoom:this.zoom,center:g,mapTypeId:f,panControl:l,zoomControl:i,zoomControlOptions:{style:google.maps.ZoomControlStyle[j],position:google.maps.ControlPosition[k]},mapTypeControl:m,scaleControl:n,streetViewControl:o,overviewMapControl:p};var r=extend_object(q,a);this.map=new google.maps.Map(this.div,r);var s=function(a,b){var d="";var f=window.context_menu[a];for(var g in f){if(f.hasOwnProperty(g)){var h=f[g];d+='<li><a id="'+a+"_"+g+'" href="#">'+h.title+"</a></li>"}}if(!c("gmaps_context_menu"))return;var i=c("gmaps_context_menu");i.innerHTML=d;var j=i.getElementsByTagName("a");var k=j.length;for(var g=0;g<k;g++){var l=j[g];var m=function(c){c.preventDefault();f[this.id.replace(a+"_","")].action.call(e,b);e.hideContextMenu()};google.maps.event.clearListeners(l,"click");google.maps.event.addDomListenerOnce(l,"click",m,false)}var n=e.div.offsetLeft+b.pixel.x-15;var o=e.div.offsetTop+b.pixel.y-15;i.style.left=n+"px";i.style.top=o+"px";i.style.display="block"};var t=function(a,b){if(a==="marker"){b.pixel={};var c=new google.maps.OverlayView;c.setMap(e.map);c.draw=function(){var d=c.getProjection();var e=b.marker.getPosition();b.pixel=d.fromLatLngToContainerPixel(e);s(a,b)}}else{s(a,b)}};this.setContextMenu=function(a){window.context_menu[a.control]={};for(var d in a.options){if(a.options.hasOwnProperty(d)){var e=a.options[d];window.context_menu[a.control][e.name]={title:e.title,action:e.action}}}var f=b.createElement("ul");f.id="gmaps_context_menu";f.style.display="none";f.style.position="absolute";f.style.minWidth="100px";f.style.background="white";f.style.listStyle="none";f.style.padding="8px";f.style.boxShadow="2px 2px 6px #ccc";b.body.appendChild(f);var g=c("gmaps_context_menu");google.maps.event.addDomListener(g,"mouseout",function(a){if(!a.relatedTarget||!this.contains(a.relatedTarget)){window.setTimeout(function(){g.style.display="none"},400)}},false)};this.hideContextMenu=function(){var a=c("gmaps_context_menu");if(a)a.style.display="none"};var u=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"];var v=["mousemove","mouseout","mouseover"];for(var w=0;w<u.length;w++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(b==undefined)b=this;if(a[c])a[c].apply(this,[b]);e.hideContextMenu()})})(this.map,u[w])}for(var w=0;w<v.length;w++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(b==undefined)b=this;if(a[c])a[c].apply(this,[b])})})(this.map,v[w])}google.maps.event.addListener(this.map,"rightclick",function(b){if(a.rightclick){a.rightclick.apply(this,[b])}t("map",b)});this.refresh=function(){google.maps.event.trigger(this.map,"resize")};this.fitZoom=function(){var a=[];var b=this.markers.length;for(var c=0;c<b;c++){a.push(this.markers[c].getPosition())}this.fitBounds(a)};this.fitBounds=function(a){var b=a.length;var c=new google.maps.LatLngBounds;for(var d=0;d<b;d++){c.extend(a[d])}this.map.fitBounds(c)};this.setCenter=function(a,b,c){this.map.panTo(new google.maps.LatLng(a,b));if(c){c()}};this.getDiv=function(){return this.div};this.zoomIn=function(a){this.zoom=this.map.getZoom()+a;this.map.setZoom(this.zoom)};this.zoomOut=function(a){this.zoom=this.map.getZoom()-a;this.map.setZoom(this.zoom)};var x=[];for(var y in this.map){if(typeof this.map[y]=="function"&&!this[y]){x.push(y)}}for(var z=0;z<x.length;z++){(function(a,b,c){a[c]=function(){return b[c].apply(b,arguments)}})(this,this.map,x[z])}this.createControl=function(a){var c=b.createElement("div");c.style.cursor="pointer";c.style.fontFamily="Arial, sans-serif";c.style.fontSize="13px";c.style.boxShadow="rgba(0, 0, 0, 0.398438) 0px 2px 4px";for(var d in a.style){c.style[d]=a.style[d]}c.textContent=a.text;for(var e in a.events){(function(b,c){google.maps.event.addDomListener(b,c,function(){a.events[c].apply(this,[this])})})(c,e)}c.index=1;return c};this.addControl=function(a){var b=google.maps.ControlPosition[a.position.toUpperCase()];delete a.position;var c=this.createControl(a);this.controls.push(c);this.map.controls[b].push(c);return c};this.createMarker=function(a){if(a.lat&&a.lng||a.position){var b=this;var c=a.details;var d=a.fences;var e=a.outside;var f={position:new google.maps.LatLng(a.lat,a.lng),map:null};delete a.lat;delete a.lng;delete a.fences;delete a.outside;var g=extend_object(f,a);var h=new google.maps.Marker(g);h.fences=d;if(a.infoWindow){h.infoWindow=new google.maps.InfoWindow(a.infoWindow);var i=["closeclick","content_changed","domready","position_changed","zindex_changed"];for(var j=0;j<i.length;j++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a.infoWindow[c])a.infoWindow[c].apply(this,[b])})})(h.infoWindow,i[j])}}var k=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"];var l=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"];for(var j=0;j<k.length;j++){(function(b,c){google.maps.event.addListener(b,c,function(){if(a[c])a[c].apply(this,[this])})})(h,k[j])}for(var j=0;j<k.length;j++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(!b.pixel){b.pixel=this.map.getProjection().fromLatLngToPoint(b.latLng)}if(a[c])a[c].apply(this,[b])})})(h,l[j])}google.maps.event.addListener(h,"click",function(){this.details=c;if(a.click){a.click.apply(this,[this])}if(h.infoWindow){b.hideInfoWindows();h.infoWindow.open(b.map,h)}});if(a.dragend||h.fences){google.maps.event.addListener(h,"dragend",function(){if(h.fences){b.checkMarkerGeofence(h,function(a,b){e(a,b)})}})}return h}else{throw"No latitude or longitude defined"}};this.addMarker=function(a){if(a.lat&&a.lng||a.position){var b=this.createMarker(a);b.setMap(this.map);this.markers.push(b);return b}else{throw"No latitude or longitude defined"}};this.addMarkers=function(a){for(var b=0,c;c=a[b];b++){this.addMarker(c)}return this.markers};this.hideInfoWindows=function(){for(var a=0,b;b=this.markers[a];a++){if(b.infoWindow){b.infoWindow.close()}}};this.removeMarkers=function(a){var a=a||this.markers;for(var b=0;b<this.markers.length;b++){if(this.markers[b]===a[b])this.markers[b].setMap(null)}var c=[];for(var b=0;b<this.markers.length;b++){if(this.markers[b].getMap()!=null)c.push(this.markers[b])}this.markers=c};this.drawOverlay=function(a){var c=new google.maps.OverlayView;c.setMap(e.map);var d=true;if(a.auto_show!=null)d=a.auto_show;c.onAdd=function(){var d=b.createElement("div");d.style.borderStyle="none";d.style.borderWidth="0px";d.style.position="absolute";d.style.zIndex=100;d.innerHTML=a.content;c.div=d;var e=this.getPanes();if(!a.layer){a.layer="overlayLayer"}var f=e[a.layer];f.appendChild(d);var g=["contextmenu","DOMMouseScroll","dblclick","mousedown"];for(var h=0;h<g.length;h++){(function(a,b){google.maps.event.addDomListener(a,b,function(a){if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all){a.cancelBubble=true;a.returnValue=false}else{a.stopPropagation()}})})(d,g[h])}google.maps.event.trigger(this,"ready")};c.draw=function(){var b=this.getProjection();var e=b.fromLatLngToDivPixel(new google.maps.LatLng(a.lat,a.lng));a.horizontalOffset=a.horizontalOffset||0;a.verticalOffset=a.verticalOffset||0;var f=c.div;var g=f.children[0];var h=g.clientHeight;var i=g.clientWidth;switch(a.verticalAlign){case"top":f.style.top=e.y-h+a.verticalOffset+"px";break;default:case"middle":f.style.top=e.y-h/2+a.verticalOffset+"px";break;case"bottom":f.style.top=e.y+a.verticalOffset+"px";break}switch(a.horizontalAlign){case"left":f.style.left=e.x-i+a.horizontalOffset+"px";break;default:case"center":f.style.left=e.x-i/2+a.horizontalOffset+"px";break;case"right":f.style.left=e.x+a.horizontalOffset+"px";break}f.style.display=d?"block":"none";if(!d){a.show.apply(this,[f])}};c.onRemove=function(){var b=c.div;if(a.remove){a.remove.apply(this,[b])}else{c.div.parentNode.removeChild(c.div);c.div=null}};e.overlays.push(c);return c};this.removeOverlay=function(a){a.setMap(null)};this.removeOverlays=function(){for(var a=0,b;b=e.overlays[a];a++){b.setMap(null)}e.overlays=[]};this.removePolylines=function(){for(var a=0,b;b=e.polylines[a];a++){b.setMap(null)}e.polylines=[]};this.drawPolyline=function(a){var b=[];var c=a.path;if(c.length){if(c[0][0]===undefined){b=c}else{for(var d=0,e;e=c[d];d++){b.push(new google.maps.LatLng(e[0],e[1]))}}}var f=new google.maps.Polyline({map:this.map,path:b,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});var g=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var h=0;h<g.length;h++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(f,g[h])}this.polylines.push(f);return f};this.drawCircle=function(a){a=extend_object({map:this.map,center:new google.maps.LatLng(a.lat,a.lng)},a);delete a.lat;delete a.lng;var b=new google.maps.Circle(a);var c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var d=0;d<c.length;d++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(b,c[d])}this.polygons.push(b);return b};this.drawRectangle=function(a){a=extend_object({map:this.map},a);var b=new google.maps.LatLngBounds(new google.maps.LatLng(a.bounds[0][0],a.bounds[0][1]),new google.maps.LatLng(a.bounds[1][0],a.bounds[1][1]));a.bounds=b;var c=new google.maps.Rectangle(a);var d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var e=0;e<d.length;e++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(c,d[e])}this.polygons.push(c);return c};this.drawPolygon=function(a){a=extend_object({map:this.map},a);if(a.paths.length>0){if(a.paths[0].length>0){a.paths=array_map(a.paths,arrayToLatLng)}}var b=new google.maps.Polygon(a);var c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var d=0;d<c.length;d++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(b,c[d])}this.polygons.push(b);return b};this.removePolygon=this.removeOverlay;this.removePolygons=function(){for(var a=0,b;b=e.polygons[a];a++){b.setMap(null)}e.polygons=[]};this.getFromFusionTables=function(a){var b=a.events;delete a.events;var c=a;var d=new google.maps.FusionTablesLayer(c);for(var e in b){(function(a,c){google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})})(d,e)}this.layers.push(d);return d};this.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);b.setMap(this.map);return b};this.getFromKML=function(a){var b=a.url;var c=a.events;delete a.url;delete a.events;var d=a;var e=new google.maps.KmlLayer(b,d);for(var f in c){(function(a,b){google.maps.event.addListener(a,b,function(a){c[b].apply(this,[a])})})(e,f)}this.layers.push(e);return e};this.loadFromKML=function(a){var b=this.getFromKML(a);b.setMap(this.map);return b};var A,B;this.getRoutes=function(a){switch(a.travelMode){case"bicycling":A=google.maps.TravelMode.BICYCLING;break;case"driving":A=google.maps.TravelMode.DRIVING;break;default:A=google.maps.TravelMode.WALKING;break}if(a.unitSystem==="imperial"){B=google.maps.UnitSystem.IMPERIAL}else{B=google.maps.UnitSystem.METRIC}var b={avoidHighways:false,avoidTolls:false,optimizeWaypoints:false,waypoints:[]};var c=extend_object(b,a);c.origin=new google.maps.LatLng(a.origin[0],a.origin[1]);c.destination=new google.maps.LatLng(a.destination[0],a.destination[1]);c.travelMode=A;c.unitSystem=B;delete c.callback;var d=this;var e=new google.maps.DirectionsService;e.route(c,function(b,c){if(c===google.maps.DirectionsStatus.OK){for(var e in b.routes){if(b.routes.hasOwnProperty(e)){d.routes.push(b.routes[e])}}}if(a.callback){a.callback(d.routes)}})};this.removeRoutes=function(){this.routes=[]};this.getElevations=function(a){a=extend_object({locations:[],path:false,samples:256},a);if(a.locations.length>0){if(a.locations[0].length>0){a.locations=array_map(a.locations,arrayToLatLng)}}var b=a.callback;delete a.callback;var c=new google.maps.ElevationService;if(!a.path){delete a.path;delete a.samples;c.getElevationForLocations(a,function(a,c){if(b&&typeof b==="function"){b(a,c)}})}else{var d={path:a.locations,samples:a.samples};c.getElevationAlongPath(d,function(a,c){if(b&&typeof b==="function"){b(a,c)}})}};this.cleanRoute=this.removePolylines;this.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(c){if(c.length>0){b.drawPolyline({path:c[c.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});if(a.callback){a.callback(c[c.length-1])}}}})};this.travelRoute=function(a){if(a.origin&&a.destination){this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(b){if(b.length>0&&a.start){a.start(b[b.length-1])}if(b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0){var d=c.legs[0].steps;for(var e=0,f;f=d[e];e++){f.step_number=e;a.step(f,c.legs[0].steps.length-1)}}}if(b.length>0&&a.end){a.end(b[b.length-1])}}})}else if(a.route){if(a.route.legs.length>0){var b=a.route.legs[0].steps;for(var c=0,d;d=b[c];c++){d.step_number=c;a.step(d)}}}};this.drawSteppedRoute=function(a){if(a.origin&&a.destination){this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(b){if(b.length>0&&a.start){a.start(b[b.length-1])}if(b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0){var d=c.legs[0].steps;for(var f=0,g;g=d[f];f++){g.step_number=f;e.drawPolyline({path:g.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});a.step(g,c.legs[0].steps.length-1)}}}if(b.length>0&&a.end){a.end(b[b.length-1])}}})}else if(a.route){if(a.route.legs.length>0){var b=a.route.legs[0].steps;for(var c=0,d;d=b[c];c++){d.step_number=c;e.drawPolyline({path:d.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});a.step(d)}}}};this.checkGeofence=function(a,b,c){return c.containsLatLng(new google.maps.LatLng(a,b))};this.checkMarkerGeofence=function(a,b){if(a.fences){for(var c=0,d;d=a.fences[c];c++){var f=a.getPosition();if(!e.checkGeofence(f.lat(),f.lng(),d)){b(a,d)}}}};this.addLayer=function(a,b){b=b||{};var c;switch(a){case"weather":this.singleLayers.weather=c=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=c=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=c=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=c=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=c=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=c=new google.maps.panoramio.PanoramioLayer;c.setTag(b.filter);delete b.filter;if(b.click){google.maps.event.addListener(c,"click",function(a){b.click(a);delete b.click})}break}if(c!==undefined){c.setOptions(b);c.setMap(this.map)}};this.removeLayer=function(a){if(this.singleLayers[a]!==undefined){this.singleLayers[a].setMap(null);delete this.singleLayers[a]}};this.toImage=function(a){var a=a||{};var b={};b["size"]=a["size"]||[this.div.clientWidth,this.div.clientHeight];b["lat"]=this.getCenter().lat();b["lng"]=this.getCenter().lng();if(this.markers.length>0){b["markers"]=[];for(var c=0;c<this.markers.length;c++){b["markers"].push({lat:this.markers[c].getPosition().lat(),lng:this.markers[c].getPosition().lng()})}}if(this.polylines.length>0){var e=this.polylines[0];b["polyline"]={};b["polyline"]["path"]=google.maps.geometry.encoding.encodePath(e.getPath());b["polyline"]["strokeColor"]=e.strokeColor;b["polyline"]["strokeOpacity"]=e.strokeOpacity;b["polyline"]["strokeWeight"]=e.strokeWeight}return d.staticMapURL(b)}};d.Route=function(a){this.map=a.map;this.route=a.route;this.step_count=0;this.steps=this.route.legs[0].steps;this.steps_length=this.steps.length;this.polyline=this.map.drawPolyline({path:new google.maps.MVCArray,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight}).getPath();this.back=function(){if(this.step_count>0){this.step_count--;var a=this.route.legs[0].steps[this.step_count].path;for(var b in a){if(a.hasOwnProperty(b)){this.polyline.pop()}}}};this.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a){if(a.hasOwnProperty(b)){this.polyline.push(a[b])}}this.step_count++}}};d.geolocate=function(a){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(b){a.success(b);if(a.always){a.always()}},function(b){a.error(b);if(a.always){a.always()}},a.options)}else{a.not_supported();if(a.always){a.always()}}};d.geocode=function(a){this.geocoder=new google.maps.Geocoder;var b=a.callback;if(a.lat&&a.lng){a.latLng=new google.maps.LatLng(a.lat,a.lng)}delete a.lat;delete a.lng;delete a.callback;this.geocoder.geocode(a,function(a,c){b(a,c)})};d.staticMapURL=function(a){function n(a,b){if(a[0]==="#"){a=a.replace("#","0x");if(b){b=parseFloat(b);b=Math.min(1,Math.max(b,0));if(b===0){return"0x00000000"}b=(b*255).toString(16);if(b.length===1){b+=b}a=a.slice(0,8)+b}}return a}var b=[];var c;var d="http://maps.googleapis.com/maps/api/staticmap";if(a.url){d=a.url;delete a.url}d+="?";var e=a.markers;delete a.markers;if(!e&&a.marker){e=[a.marker];delete a.marker}var f=a.polyline;delete a.polyline;if(a.center){b.push("center="+a.center);delete a.center}else if(a.address){b.push("center="+a.address);delete a.address}else if(a.lat){b.push(["center=",a.lat,",",a.lng].join(""));delete a.lat;delete a.lng}else if(a.visible){var g=encodeURI(a.visible.join("|"));b.push("visible="+g)}var h=a.size;if(h){if(h.join){h=h.join("x")}delete a.size}else{h="630x300"}b.push("size="+h);if(!a.zoom){a.zoom=15}var i=a.hasOwnProperty("sensor")?!!a.sensor:true;delete a.sensor;b.push("sensor="+i);for(var j in a){if(a.hasOwnProperty(j)){b.push(j+"="+a[j])}}if(e){var k,l;for(var m=0;c=e[m];m++){k=[];if(c.size&&c.size!=="normal"){k.push("size:"+c.size)}else if(c.icon){k.push("icon:"+encodeURI(c.icon))}if(c.color){k.push("color:"+c.color.replace("#","0x"))}if(c.label){k.push("label:"+c.label[0].toUpperCase())}l=c.address?c.address:c.lat+","+c.lng;if(k.length||m===0){k.push(l);k=k.join("|");b.push("markers="+encodeURI(k))}else{k=b.pop()+encodeURI("|"+l);b.push(k)}}}if(f){c=f;f=[];if(c.strokeWeight){f.push("weight:"+parseInt(c.strokeWeight,10))}if(c.strokeColor){var o=n(c.strokeColor,c.strokeOpacity);f.push("color:"+o)}if(c.fillColor){var p=n(c.fillColor,c.fillOpacity);f.push("fillcolor:"+p)}var q=c.path;if(q.join){for(var r=0,s;s=q[r];r++){f.push(s.join(","))}}else{f.push("enc:"+q)}f=f.join("|");b.push("path="+encodeURI(f))}b=b.join("&");return d+b};if(!google.maps.Polygon.prototype.getBounds){google.maps.Polygon.prototype.getBounds=function(a){var b=new google.maps.LatLngBounds;var c=this.getPaths();var d;for(var e=0;e<c.getLength();e++){d=c.getAt(e);for(var f=0;f<d.getLength();f++){b.extend(d.getAt(f))}}return b}}google.maps.Polygon.prototype.containsLatLng=function(a){var b=this.getBounds();if(b!==null&&!b.contains(a)){return false}var c=false;var d=this.getPaths().getLength();for(var e=0;e<d;e++){var f=this.getPaths().getAt(e);var g=f.getLength();var h=g-1;for(var i=0;i<g;i++){var j=f.getAt(i);var k=f.getAt(h);if(j.lng()<a.lng()&&k.lng()>=a.lng()||k.lng()<a.lng()&&j.lng()>=a.lng()){if(j.lat()+(a.lng()-j.lng())/(k.lng()-j.lng())*(k.lat()-j.lat())<a.lat()){c=!c}}h=i}}return c};google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)};google.maps.Marker.prototype.setFences=function(a){this.fences=a};google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)};return d}(this);var arrayToLatLng=function(a){return new google.maps.LatLng(a[0],a[1])};var extend_object=function(a,b){if(a===b)return a;for(var c in b){a[c]=b[c]}return a};var array_map=function(a,b){if(Array.prototype.map&&a.map===Array.prototype.map){return a.map(b)}else{var c=[];var d=a.length;for(var e=0;e<d;e++){c.push(b(a[e]))}return c}}}GMaps.prototype.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,a.styledMapName);this.map.mapTypes.set(a.mapTypeId,b)};GMaps.prototype.setStyle=function(a){this.map.setMapTypeId(a)}